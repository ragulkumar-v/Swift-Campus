{% extends 'base.html' %}
{% block title %} File a new Complaint {% endblock %}
{% block content %}

<!-- Display messages (success, warning, error) -->
{% if messages %}
  {% for message in messages %}
    <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
      {{ message }}
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  {% endfor %}
{% endif %}

<div class="my-5 p-5">
  <form method="POST" enctype="multipart/form-data">
    {% csrf_token %}

    <div class="mb-3">
      <label for="title" class="form-label">Title <span style="color:red">*</span></label>
      <input
        type="text"
        class="form-control"
        id="title"
        name="title"
        placeholder="What's the issue?"
        required
      />
    </div>

    <div class="mb-3">
      <label for="discription" class="form-label">Description <span style="color:red">*</span></label>
      <textarea
        class="form-control"
        id="discription"
        name="discription"
        rows="3"
        required
      ></textarea>
    </div>

    <div class="mb-3">
      <label for="faculty" class="form-label">Department <span style="color:red">*</span></label>
      <select class="form-select" id="faculty" name="faculty" required>
        <option value="" disabled selected>Select Department</option>
        <option value="Admin">Admin</option>
        <option value="IT">IT</option>
        <option value="Infrastructure">Infrastructure</option>
        <option value="Electrical">Electrical</option>
        <option value="House keeping">House keeping</option>
      </select>
    </div>

    <div class="mb-3">
      <label for="location" class="form-label">Location <span style="color:red">*</span></label>
      <input
        type="text"
        class="form-control"
        id="location"
        name="location"
        placeholder="Enter location"
        required
      />
    </div>

    <div class="mb-3">
      <label for="image" class="form-label">Upload Image (optional)</label>
      <input
        type="file"
        class="form-control"
        id="image"
        name="image"
        accept="image/*"
      />
    </div>

    <div class="d-flex justify-content-start gap-3 mt-3">
      <button type="submit" class="btn btn-primary">Submit Complaint</button>
      <a href="{% url 'student_dashboard' %}" class="btn btn-secondary">Back to Dashboard</a>
    </div>    
  </form>
</div>

{% endblock %}
